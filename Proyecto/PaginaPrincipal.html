<!DOCTYPE html>
<html>
    <head>
        <title>
            Inicio
        </title>
        <meta charset="utf-8">
            <meta content="width=device-width, initial-scale=1.0" name="viewport">
                <link href="css/boots	trap.min.css" rel="stylesheet" type="text/css"/>
                <link href="css/estilo1.css" rel="stylesheet" type="text/css"/>
                <script src="https://code.jquery.com/jquery-1.10.2.js">
                </script>
                <script src="js/script.js" type="text/javascript">
                </script>
                <link href="css/normalize.css" rel="stylesheet" type="text/css"/>
                <link href="css/datepicker.css" rel="stylesheet" type="text/css"/>
                <script src="js/jquery-1.7.1.min.js" type="text/javascript">
                </script>
                <script src="js/jquery-ui-1.8.18.custom.min.js" type="text/javascript">
                </script>
                <script src="js/funcionesJQuery.js" type="text/javascript">
                </script>
                <script src="js/Aeropuerto.js" type="text/javascript">
                </script>
                <script src="js/Ruta.js" type="text/javascript">
                </script>
                <script src="js/Tiquete.js" type="text/javascript">
                </script>
                <script src="js/Metodos.js" type="text/javascript">
                </script>
                <script src="js/Usuario.js" type="text/javascript">
                </script>
            </meta>
        </meta>
    </head>
    <body>
        <!-- ------------------------ Cuerpo de la pagina ------------------ -->
        <div class="pagina" id="cuerpo">
            <!-- ---------------------- ENCABEZADO ----------------------- -->
            <div class="container-fluid">
                <div class="row encabezado">
                    <div class="col-md-12">
                        <img alt="" class="image1" src="img/Captura.png" style="float:left;">
                            <img alt="" class="image" src="img/Header.png" style="float:left;">
                                <span class="inicioSesion" id="inicioSesion">
                                    <span class="campoUs1">
                                        Usuario:
                                        <input class="campoUs" id="user" type="text">
                                            <br>
                                                Contraseña:
                                                <input class="campoUs" id="pass" type="text"/>
                                            </br>
                                        </input>
                                    </span>
                                    <div>
                                        <br>
                                            <span class="boton1">
                                                <input class="boton" id="login" type="button" value="Login">
                                                    <input class="boton" id="signup" type="button" value="SignUp">
                                                    </input>
                                                </input>
                                            </span>
                                        </br>
                                    </div>
                                </span>
                                <span class="logueado" id="logueado">
                                    <span id="span">
                                    </span>
                                </span>
                            </img>
                        </img>
                    </div>
                </div>
            </div>
            <!-- ---------------------- NAVEGACION ----------------------- -->
            <div class="menuP">
                <ul class="MyMenu">
                    <li>
                        <a href="" title="Inicio">
                            <image border="0" src="">
                                Inicio
                            </image>
                        </a>
                    </li>
                    <li>
                        <a href="QuienesSomos.html" title="Quienes Somos">
                            <image border="0" src="">
                                Quienes somos
                            </image>
                        </a>
                    </li>
                    <li>
                        <a href="Cousine.html" title="Cousine a bordo">
                            <image border="0" src="">
                                Cousine a bordo
                            </image>
                        </a>
                    </li>
                    <li>
                        <a href="ExperienciaABordo.html" title="Experiencia">
                            <image border="0" src="">
                                Experiencia
                            </image>
                        </a>
                    </li>
                    <li>
                        <a href="Consultas.html" title="Consultas">
                            <image border="0" src="">
                                Consultas
                            </image>
                        </a>
                    </li>
                </ul>
            </div>
            <!-- ---------------------- Division ------------------------- -->
            <div>
                <!-- -----------------------------BUSCAR VUELOS------------------------------- -->
                <div class="iz">
                    <div class="tableVuelos">
                        <section>
                            <table class="grid">
                                <thead>
                                    <tr>
                                        <th colspan="4">
                                            Vuelos
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="fila">
                                            Origen:
                                        </td>
                                        <td class="fila">
                                            Destino:
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <select class="bo" id="origen" type="text">
                                            </select>
                                        </td>
                                        <td>
                                            <select class="bo" id="destino" type="text">
                                            </select>
                                        </td>
                                    </tr>
                                    <tr class="fila">
                                        <td class="fila">
                                            Partida:
                                        </td>
                                        <td class="fila">
                                            Regreso:
                                        </td>
                                    </tr>
                                    <tr class="fila">
                                        <tr>
                                            <td>
                                                <input class="datepicker" id="datepicker1" type="text"/>
                                            </td>
                                            <td>
                                                <input class="datepicker" id="datepicker2" type="text"/>
                                            </td>
                                        </tr>
                                    </tr>
                                    <tr>
                                        <td class="fila">
                                            Cantidad:
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="cantidad">
                                            <select class="bo" id="combo" name="combo">
                                                <option value="1">
                                                    1
                                                </option>
                                                <option value="2">
                                                    2
                                                </option>
                                                <option value="3">
                                                    3
                                                </option>
                                                <option value="4">
                                                    4
                                                </option>
                                                <option value="5">
                                                    5
                                                </option>
                                                <option value="6">
                                                    6
                                                </option>
                                                <option value="7">
                                                    7
                                                </option>
                                                <option value="8">
                                                    8
                                                </option>
                                                <option value="9">
                                                    9
                                                </option>
                                                <option value="10">
                                                    10
                                                </option>
                                            </select>
                                        </td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td class="fila" colspan="4">
                                            <input class="boton" id="buscar" type="button" value="Buscar">
                                            </input>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>
                        </section>
                    </div>
                </div>
                <!-- ----------------------------- SLIDES DE DESCUENTOS ----------------------------- -->
                <div class="der">
                    <div class="container">
                        <div class="row" id="row1">
                            <div class="slider" id="fondo">
                                <div class="carousel slide" data-ride="carousel" id="carousel-1">
                                    <ol class="carousel-indicators">
                                        <li class="active" data-slide-to="0" data-target="#carousel-1">
                                        </li>
                                        <li data-slide-to="1" data-target="#carousel-1">
                                        </li>
                                        <li data-slide-to="2" data-target="#carousel-1">
                                        </li>
                                        <li data-slide-to="3" data-target="#carousel-1">
                                        </li>
                                        <li data-slide-to="4" data-target="#carousel-1">
                                        </li>
                                        <li data-slide-to="5" data-target="#carousel-1">
                                        </li>
                                    </ol>
                                    <div class="carousel-inner" role="listbox">
                                        <div class="item active" id="div01">
                                        </div>
                                        <div class="item">
                                            <img alt="" class="img-responsive" src="img/d1.jpg">
                                                <div class="carousel-caption hidden-xs hidden-sm">
                                                    <h3>
                                                        Relajate en el mar
                                                    </h3>
                                                </div>
                                            </img>
                                        </div>
                                        <div class="item">
                                            <img alt="" class="img-responsive" src="img/d2.jpg">
                                                <div class="carousel-caption hidden-xs hidden-sm">
                                                    <h3>
                                                        Enamorate de Europa
                                                    </h3>
                                                </div>
                                            </img>
                                        </div>
                                        <div class="item">
                                            <img alt="" class="img-responsive" src="img/d3.jpg">
                                                <div class="carousel-caption hidden-xs hidden-sm">
                                                    <h3>
                                                        La felicidad es un lugar
                                                    </h3>
                                                </div>
                                            </img>
                                        </div>
                                        <div class="item">
                                            <img alt="" class="img-responsive" src="img/d4.jpg">
                                                <div class="carousel-caption hidden-xs hidden-sm">
                                                    <h3>
                                                        Conectate con la naturaleza
                                                    </h3>
                                                </div>
                                            </img>
                                        </div>
                                        <div class="item">
                                            <img alt="" class="img-responsive" src="img/d5.jpg">
                                                <div class="carousel-caption hidden-xs hidden-sm">
                                                    <h3>
                                                        Que los negocios sean un placer
                                                    </h3>
                                                </div>
                                            </img>
                                        </div>
                                    </div>
                                    <a class="left carousel-control" data-slide="prev" href="#carousel-1" role="button">
                                        <span aria-hidden="true" class="glyphicon glyphicon-chevron-left">
                                        </span>
                                    </a>
                                    <a class="right carousel-control" data-slide="next" href="#carousel-1" role="button">
                                        <span aria-hidden="true" class="glyphicon glyphicon-chevron-right">
                                        </span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ----------------------resultados de busqueda------------- -->
            <div class="tableVuelos" id="busqueda">
                <table class="grid" id="tablaBusqueda">
                </table>
            </div>
            <!-- ---------------------- PIE DE PAGINA -------------------- -->
            <div class="container_pie">
                <div class="row ">
                    <p class="text-center">
                        Andres-Alex-Maikol Airlines
                    </p>
                    <p class="text-center">
                        AAM es la marca comercial que representa a las aerolíneas latinoamericanas integradas en AAM Holdings S.A.
                    </p>
                    <p class="text-center">
                        Contáctenos a los numeros:
                    </p>
                    <p class="text-center">
                        (506): 8326-7394
                    </p>
                    <p class="text-center">
                        (506): 8501-6092
                    </p>
                    <p class="text-center">
                        (506): 8739-0871
                    </p>
                    <p class="text-center">
                        Correo electronico: atencionAlCliente@aam.com
                    </p>
                </div>
            </div>
            <br>
                <div class="container_pie" id="pie">
                    <div class="row">
                        <p class="text-center">
                            Derechos Reservados © · AAM Airlines · 2017
                        </p>
                    </div>
                </div>
            </br>
        </div>
        <!-- ------------------------ Parte de compras ---------------------- -->
        <div id="compra">
            <div class="iz" id="info">
                <div class="tableVuelos">
                    <table class="grid">
                        <thead>
                            <tr>
                                <th colspan="4">
                                    Orden de Compra
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="fila">
                                    Origen:
                                </td>
                                <td class="fila">
                                    Destino:
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label class="bo" id="origenC">
                                    </label>
                                </td>
                                <td>
                                    <label class="bo" id="destinoC">
                                    </label>
                                </td>
                            </tr>
                            <tr class="fila">
                                <td class="fila">
                                    Partida:
                                </td>
                                <td class="fila">
                                    Regreso:
                                </td>
                            </tr>
                            <tr class="fila">
                                <tr>
                                    <td>
                                        <label class="bo" id="partida">
                                        </label>
                                    </td>
                                    <td>
                                        <label class="bo" id="regreso">
                                        </label>
                                    </td>
                                </tr>
                            </tr>
                            <tr>
                                <td class="fila">
                                    Cantidad:
                                </td>
                                <td class="fila">
                                    Precio:
                                </td>
                            </tr>
                            <tr>
                                <td class="cantidad">
                                    <label class="bo" id="cantidad">
                                    </label>
                                </td>
                                <td class="fila">
                                    <label class="bo" id="price">
                                    </label>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td class="fila">
                                    <input class="boton" id="cancelOrder" type="button" value="Cancelar">
                                    </input>
                                </td>
                                <td class="fila" colspan="2">
                                    <input class="boton" id="goTi" type="button" value="Continuar">
                                    </input>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <div class="derAv" id="avionAsientos">
            </div>
        </div>
        <script src="http://code.jquery.com/jquery-latest.js">
        </script>
        <script src="js/bootstrap.min.js" type="text/javascript">
        </script>
        <link href="css/normalize.css" rel="stylesheet" type="text/css"/>
        <link href="css/datepicker.css" rel="stylesheet" type="text/css"/>
        <script src="js/jquery-1.7.1.min.js" type="text/javascript">
        </script>
        <script src="js/jquery-ui-1.8.18.custom.min.js" type="text/javascript">
        </script>
        <script src="js/funcionesJQuery.js" type="text/javascript">
        </script>
    </body>
    <script src="js/scriptImagenes.js" type="text/javascript">
    </script>
    <!-- Model -->
    <script>
        function AAMModel() {
                this.AAMModel();
            }
            AAMModel.prototype={
                AAMModel: function(){
                    this.ciudades= [
                    new Aeropuerto("SJO","San Jose"),
                    new Aeropuerto("LIB","Guanacaste"),
                    new Aeropuerto("MIA","Miami"),
                    new Aeropuerto("CAN","Cancun"),
                    new Aeropuerto("ORL","Orlando"),
                    new Aeropuerto("ANT","Antigua")
                    ];
                    this.vuelos= [
                    new Ruta("111","San Jose","Orlando","500"),
                    new Ruta("222","Miami","Orlando","700"),
                    new Ruta("333","San Jose","Orlando","350"),
                    new Ruta("999","San Jose","Orlando","100"),
                    new Ruta("000","San Jose","Orlando","250"),
                    new Ruta("111","San Jose","Orlando","500"),
                    new Ruta("222","Miami","Orlando","700"),
                    new Ruta("333","Miami","Orlando","1000"),
                    new Ruta("999","Cancun","Antigua","50"),
                    new Ruta("000","Cancun","Orlando","550"),
                    ];
                    this.buscados=[];
                }
            };
    </script>
    <!-- Controller -->
    <script>
        function AAMController(model,view) {
                this.AAMController(model,view);
            }

            AAMController.prototype={
                AAMController: function(model, view){
                    this.model=model;
                    this.view= view;
                },
                buscar: function(){
                    var origen= this.view.document.getElementById("origen").value;
                    var destino= this.view.document.getElementById("destino").value;
                    if((origen.length > 0) && (destino.length > 0)){
                        model.buscados= model.vuelos.filter(function(v){return (v.codigo_AeropuertoOrigen.includes(origen))&&(v.codigo_AeropuertoDestino.includes(destino)); }
                            )
                    }
                    else{
                        model.buscados=[];
                    }

                }
            };
    </script>
    <!-- View -->
    <script>
        var model;
            var controller;
            var vuelos;
            var ciudades;

            function pageLoad(event) {
                model=new AAMModel();
                vuelos= model.vuelos;
                ciudades= model.ciudades;
                controller= new AAMController(model,window);
                llenarSelects();
                document.getElementById("buscar").addEventListener("click",showBuscados);
                document.getElementById("cancelOrder").addEventListener("click",cancelOrden);
                document.getElementById("goTi").disabled=false;
                document.getElementById("goTi").addEventListener("click",goAsientos);
            }

            function llenarSelects(){
                var origen= document.getElementById("origen");
                var destino= document.getElementById("destino");
                for(var i=0; i < model.ciudades.length; i++){
                    var option=document.createElement("option");
                    option.value=model.ciudades[i].nombre;
                    option.innerHTML=model.ciudades[i].nombre;
                    origen.appendChild(option); 
                }
                for(var i=0; i < model.ciudades.length; i++){
                    var option=document.createElement("option");
                    option.value=model.ciudades[i].nombre;
                    option.innerHTML=model.ciudades[i].nombre;
                    destino.appendChild(option); 
                }
            }

            function goAsientos(){
                document.getElementById("info").style.display="none";
                document.getElementById("goTi").style.color="gray";
                var avionAsi= document.getElementById("avionAsientos");
                var div1= document.createElement("div");
                var div2= document.createElement("div");
                div2.id="asientosAvion";
                div1.classList.add("divAvionAsientos");
                var imag= document.createElement("img");
                imag.src="img/avion.png";
                imag.id="imag";
                div1.appendChild(imag);
                avionAsi.appendChild(div1);
                var aux=1;
                for(var i=0; i < 11 ; i++){
                	
                	var tr= document.createElement("tr");
                	for(var j=0; j < 15; j++){
                		var td= document.createElement("td");
                		if( i == 5  ){
                			var b= document.createElement("input");
	                		b.type = "button";
	                		b.classList.add("asientoV");
	                		td.appendChild(b);
	                		tr.appendChild(td);
	                		b= document.createElement("input");
	                		b.type = "button";
	                		b.classList.add("asientoV");
	                		td.appendChild(b);
	                		tr.appendChild(td);
                		}
                		if( i == 0 ){
                			var b= document.createElement("input");
	                		b.type = "button";
	                		b.classList.add("asientoV");
	                		td.appendChild(b);
	                		tr.appendChild(td);
                		}
                		
                			var b= document.createElement("input");
	                		b.type = "button";
	                		b.value= aux;
	                		b.classList.add("asiento");
	                		td.appendChild(b);
	                		tr.appendChild(td);
	                		aux++;
                		
                		
                	}
                	div2.appendChild(tr);
                }
                avionAsi.appendChild(div2);
            }

            function cancelOrden(){
                var compra= document.getElementById("compra");
                compra.classList.remove("popupComprar");
                compra.style.display="none";
                document.getElementById("cuerpo").style.opacity=1;
            }

            function showBuscados(){
                controller.buscar();
                var s= document.getElementById("tablaBusqueda");
                var aux= document.getElementById("resultBusq");
                if(aux == null){
                    var thea= document.createElement("thead");
                    var x= document.createElement("tr");
                    var y=document.createElement("th");
                    y.innerHTML= "Resultados de la busqueda";
                    y.id="resultBusq";
                    x.appendChild(y);
                    thea.appendChild(x);
                    s.appendChild(thea);
                }
                var buscado= document.getElementById("buscado");
                while( s.childNodes.length > 0 && aux != null && buscado != null){
                    s.removeChild(buscado);
                    buscado= document.getElementById("buscado");
                }
                for(var i=0; i< model.buscados.length; i++){
                    var t= document.createElement("tr");
                    t.id="filabusq";
                    var t1= document.createElement("td");
                    t1.innerHTML=i+1 +". Desde: "+ model.buscados[i].codigo_AeropuertoOrigen+" hasta "+ model.buscados[i].codigo_AeropuertoDestino+"      $ "+ model.buscados[i].precio;
                    t.id="buscado";
                    t.appendChild(t1);
                    var t2= document.createElement("td");
                    var boton= document.createElement("input");
                    boton.id=i;
                    boton.type = "button";
                    boton.value= " Comprar ";
                    boton.addEventListener("click",openInfo);
                    t2.appendChild(boton);
                    t.appendChild(t2);
                    s.appendChild(t);
                }
                aux = document.getElementById("sinBusq");
                if(aux == null && model.buscados.length==0){
                    var t= document.createElement("tr");
                    t.id="buscado";
                    t.innerHTML="Sin resultados...";
                    s.appendChild(t);
                }
            }

            function openInfo(){
                var index= this.id;
                console.log(index);
                var compra= document.getElementById("compra");
                compra.classList.add("popupComprar");
                compra.style.display="block";
                document.getElementById("cuerpo").style.opacity=.70;
                var fecPar= document.getElementById("datepicker1").value;
                var fecLle= document.getElementById("datepicker2").value;
                document.getElementById("partida").innerHTML=fecPar;
                document.getElementById("regreso").innerHTML= fecLle;
                var ori= document.getElementById("origen").value;
                var dest= document.getElementById("destino").value;
                document.getElementById("origenC").innerHTML= ori;
                document.getElementById("destinoC").innerHTML= dest;
                document.getElementById("cantidad").innerHTML=document.getElementById("combo").value;
                document.getElementById("price").innerHTML=" $ "+model.buscados[index].precio;
            }

            document.addEventListener("DOMContentLoaded",pageLoad);
    </script>
</html>